# document from arch installation medium to bootable dell 2019 xps7590 running arch linux

# UEFI settings
enter BIOS: press F2 @ poweron
expand "System Configuration"
  Select "SATA Operation"
  Click "AHCI" radio button
  Agree to popup warning
  Click Apply
  Select "USB Configuration"
  Verify "Enable USB Boot Support" is checked
expand "Secure Boot"
  Select "Secure Boot Enable"
  Uncheck "Secure Boot Enable"
  Agree to popup warning
  Click Apply
expand "POST Behavior"
  Select "Fastboot"
  Click "Thorough" radio button
  Click Apply
insert installation medium USB
click "Exit"

# Live USB
Boot from USB: press F12 @ poweron
Arrow key to select USB drive
Press Enter
Text was TINY
But it is shonuff working

# Keyboard layout
no mod, left as default

# Verify boot mode
ls /sys/firmware/efi/efivars
  - no error occured, which means it is booted in UEFI mode

# Connect to internet
ip link
iwctl
  device list
  station wlan0 scan
  station wlan0 get-networks
  station wlan0 connect gonnaARDENmyHARTmen
    - enter passphrase when prompted
  exit

# Update system clock
timedatectl set-ntp true

# Partitioning
fdisk /dev/nvme0n1
d (delete partition)
  3 (Microsoft basic data 936.7G)
n (make new partition)
  3 (the previously deleted slot)
  hit enter for default first sector
  +870G (create 870GB partition)
  Y (remove bitlocker signature)
n (make new partition)
  7 (next available partition number)
  hit enter for default first sector
  +64G (create 64GB partition for swap)
t (change partition type)
  7 (partition number created for swap)
  19 (for linux swap)
w (write partition changes)

# Formatting
mkfs.ext4 /dev/nvme0n1p3
y (to prompt warning that it contained DOS/MBR boot sector data)
mkswap /dev/nvme0n1p7

# Mount file systems
mount /dev/nvme0n1p3 /mnt
swapon /dev/nvme0n1p7

# Install essential packages
pacstrap /mnt base linux linux-firmware vim networkmanager

# Configure the system
genfstab -U /mnt >> /mnt/etc/fstab

# Chroot
arch-chroot /mnt

# Time zone
ln -sf /usr/share/zoneinfo/America/Chicago /etc/localtime
hwclock --systohc
date (verify)

# Localization
vim /etc/locale.gen
  uncomment en_US.UTF-8 UTF-8
locale-gen
echo "LANG=en_US.UTF-8" > /etc/locale.conf


